# Discord人狼Bot

Discordで遊べる人狼ゲームのBotです。

## 機能

- 人狼ゲームの基本的なルールに基づいたゲーム進行
- 役職：村人、人狼、占い師、狩人、霊能者、狂人、妖狐
- 昼フェーズでの議論と投票による処刑
- 夜フェーズでの役職ごとの特殊能力の使用
- タイマー機能によるゲーム進行の自動化

## セットアップ

### 必要条件
- Python 3.8以上
- Discord Bot Token

### インストール手順

1. リポジトリをクローン
```
git clone https://github.com/yourusername/discord-werewolf-bot.git
cd discord-werewolf-bot
```

2. 依存パッケージをインストール
```
pip install -r requirements.txt
```

3. `.env`ファイルを作成し、DiscordのBotトークンを設定
```
DISCORD_TOKEN=your_discord_bot_token_here
```

4. Botを起動
```
python main.py
```

または、シンプルな機能のみのテスト用スクリプトを実行
```
python test_bot.py
```

## コマンド一覧

- `!werewolf_help` - コマンド一覧と使い方を表示
- `!start` - ゲームの募集を開始
- `!join` - 募集中のゲームに参加
- `!begin` - 参加者が揃ったらゲームを開始（ゲーム開始者のみ）
- `!status` - 現在のゲーム状態を表示
- `!vote @ユーザー名` - 指定したユーザーに投票（投票フェーズのみ）
- `!action @ユーザー名` - 夜のアクションを実行（DMでのみ使用可能）
- `!cancel` - 進行中のゲームをキャンセル（ゲーム開始者・管理者のみ）

## 遊び方

1. サーバーで `!start` コマンドを使ってゲームを開始します
2. プレイヤーは `!join` コマンドでゲームに参加します
3. 開始者が `!begin` コマンドでゲームを開始します
4. 各プレイヤーはDMで自分の役職が通知されます
5. 夜のフェーズでは、該当する役職のプレイヤーはDMで `!action @ユーザー名` コマンドを使ってアクションを実行します
6. 昼のフェーズでは、生存者全員でチャット上で議論します
7. 投票フェーズでは、`!vote @ユーザー名` コマンドで処刑する人を投票します
8. 村人陣営か人狼陣営（または妖狐）が勝利するまでゲームが続きます

## テスト環境

本番環境で実際にゲームをプレイする前に、テスト用のBotとサーバーでゲームの流れを確認することをおすすめします。

1. テスト用Discordサーバーを作成
2. テスト用のBotをサーバーに招待
3. `test_bot.py` を使って基本的な動作を確認
4. 十分なテスト後に `main.py` で完全な機能をテスト

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は [LICENSE](LICENSE) ファイルを参照してください。
