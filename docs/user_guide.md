# 人狼Bot ユーザーガイド

このガイドでは、Discord人狼Botの使い方を詳しく説明します。

## 目次
- [はじめに](#はじめに)
- [ゲームの始め方](#ゲームの始め方)
- [ゲームの進行](#ゲームの進行)
- [役職の説明](#役職の説明)
- [コマンド一覧](#コマンド一覧)
- [特殊ルール](#特殊ルール)
- [よくある質問](#よくある質問)

## はじめに

Discord人狼Botは、Discord上で人狼ゲームを自動進行するBotです。プレイヤーはDiscordサーバー内のテキストチャンネルで参加し、役職に応じたアクションを実行しながらゲームを進めていきます。

### 人狼ゲームとは

人狼ゲームは、村人陣営と人狼陣営に分かれて行われる心理戦です。村人陣営は人狼を見つけ出して処刑することを目指し、人狼陣営は村人を欺きながら村人の数を減らすことを目指します。

### 必要な準備

1. Discord人狼Botをサーバーに招待する
2. 適切な権限を設定する（メッセージの読み書き、リアクションの追加など）
3. 専用のテキストチャンネルを作成する（推奨）

## ゲームの始め方

### ゲームの募集

ゲームを始めるには、以下のコマンドを使用します：

```
!start
```

このコマンドを実行すると、Botがゲームの募集を開始します。プレイヤーは「参加する」ボタンをクリックするか、`!join`コマンドを使用してゲームに参加できます。

### 参加方法

ゲームに参加するには、以下のいずれかの方法を使用します：

1. 「参加する」ボタンをクリック
2. `!join`コマンドを実行

最低5人のプレイヤーが必要です。最大プレイヤー数は12人です。

### ゲーム開始

十分なプレイヤーが集まったら、ゲームを開始できます：

```
!begin
```

このコマンドを実行すると、Botがプレイヤーに役職をランダムに割り当て、ゲームが開始されます。各プレイヤーにはDMで役職情報が送信されます。

## ゲームの進行

### ゲームの流れ

人狼ゲームは以下のフェーズを繰り返して進行します：

1. **夜フェーズ**: 人狼が襲撃対象を選び、占い師が占い対象を選ぶなど、各役職が能力を使います。
2. **昼フェーズ**: 全プレイヤーが議論を行い、誰が人狼かを推理します。
3. **投票フェーズ**: 処刑する対象をプレイヤー全員で投票します。

### 夜のアクション

夜フェーズでは、役職に応じたアクションを実行できます：

- **人狼**: 襲撃対象を選びます (`!action @ユーザー`または専用ボタン)
- **占い師**: 占い対象を選びます (`!action @ユーザー`または専用ボタン)
- **狩人**: 護衛対象を選びます (`!action @ユーザー`または専用ボタン)

アクションはBotからのDM内で実行します。

### 昼の議論

昼フェーズでは、全プレイヤーがテキストチャンネルで自由に議論を行います。人狼陣営は村人のふりをして議論に参加します。

### 投票

投票フェーズでは、以下のいずれかの方法で投票します：

1. 「投票」ボタンをクリックして対象を選択
2. `!vote @ユーザー`コマンドを実行

最も票を集めたプレイヤーが処刑されます。同数の場合は処刑が行われないか、ルール設定によってはランダムに選ばれます。

### ゲーム終了条件

以下のいずれかの条件が満たされるとゲームが終了します：

- **村人陣営の勝利**: すべての人狼が処刑された
- **人狼陣営の勝利**: 人狼の数が村人の数以上になった
- **妖狐の勝利**: 妖狐が生き残り、村人または人狼の勝利条件が満たされた

## 役職の説明

### 村人陣営

#### 村人
特殊な能力はありませんが、議論と投票に参加できます。

#### 占い師
夜のフェーズで、1人のプレイヤーが人狼かどうかを占うことができます。

#### 狩人
夜のフェーズで、1人のプレイヤーを人狼の襲撃から守ることができます。

#### 霊媒師
処刑されたプレイヤーが人狼かどうかを知ることができます。

#### 共有者
お互いの存在を知っている村人です。特殊な能力はありません。

#### 猫又
死亡したとき、任意のプレイヤーを道連れにすることができます。

#### 預言者
占い師の上位互換で、人狼と妖狐を区別して占うことができます。

### 人狼陣営

#### 人狼
夜のフェーズで、村人を襲撃することができます。他の人狼と協力して行動します。

#### 狂人
村人として扱われますが、人狼陣営の勝利が自身の勝利となります。

#### 狂信者
人狼を知っていますが、人狼からは知られていません。村人として扱われます。

### 第三陣営

#### 妖狐
占われると死亡しますが、人狼の襲撃では死亡しません。最後まで生き残れば勝利です。

#### 背徳者
妖狐の味方です。妖狐が生き残れば勝利します。

## コマンド一覧

### 基本コマンド

- `!help` - コマンド一覧とヘルプを表示します
- `!start` - ゲームの募集を開始します
- `!join` - ゲームに参加します
- `!begin` - ゲームを開始します
- `!status` - 現在のゲーム状態を表示します
- `!vote @ユーザー` - 指定したプレイヤーに投票します
- `!action @ユーザー` - 夜の行動を実行します（DMで使用）

### 管理者コマンド

- `!config` - サーバー設定を管理します
- `!admin` - 管理者用コマンドを表示します
- `!compose` - 役職構成を管理します
- `!rules` - 特殊ルールを設定します

### 情報コマンド

- `!roles` - 役職一覧と説明を表示します
- `!stats` - ゲーム統計を表示します
- `!tutorial` - チュートリアルを表示します

### コミュニティコマンド

- `!suggest` - 新機能やバグ修正の提案を行います
- `!suggest new` - 新しい提案を作成します
- `!suggest list` - 提案一覧を表示します
- `!suggest view <ID>` - 提案の詳細を表示します
- `!roadmap` - 開発ロードマップを表示します
- `!feedback` - フィードバックを送信します

### バランス分析コマンド

- `!balance roles` - 役職ごとの勝率を表示します
- `!balance teams` - 陣営ごとの勝率を表示します
- `!balance suggest` - バランス調整の提案を表示します
- `!balance report` - 総合的なバランスレポートを生成します

## 特殊ルール

Discord人狼Botでは、以下の特殊ルールを設定できます：

### 恋人ルール
2人のプレイヤーが恋人となり、一方が死亡すると他方も死亡します。2人が最後まで生き残れば勝利です。

### 初日襲撃なし
1日目の夜は人狼による襲撃ができません。

### 連続ガード禁止
狩人が同じプレイヤーを連続して護衛することができません。

### 投票同数時ランダム処刑
投票が同数の場合、ランダムに1人が処刑されます。

### 霊界チャット
死亡したプレイヤーが専用チャンネルで会話できます。

## よくある質問

### Q: DMが届きません
A: Discordの設定で「サーバーメンバーからのダイレクトメッセージを許可する」が有効になっているか確認してください。

### Q: ゲームを途中でキャンセルするには？
A: `!cancel`コマンドを使用するか、管理者が`!admin end`コマンドを使用してください。

### Q: カスタムの役職構成を設定するには？
A: `!compose custom [人数] [役職1] [数1] [役職2] [数2] ...`コマンドを使用してください。

### Q: バグを報告するには？
A: `!feedback bug [内容]`コマンドを使用して、バグを報告してください。

### Q: 統計情報を見るには？
A: `!stats`コマンドを使用して、ゲーム統計を表示してください。

### Q: 新機能を提案するには？
A: `!suggest new`コマンドを使用して、新機能を提案してください。提案は他のユーザーによって投票され、開発チームによって検討されます。

### Q: バランス調整はどのように行われますか？
A: ゲームのプレイデータに基づいて役職の勝率を分析し、必要に応じて調整を行います。`!balance report`コマンドで現在のバランス状況を確認できます。
